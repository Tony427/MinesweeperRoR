<div class="row">
  <div class="col-md-8">
    <h1><%= @board.name %></h1>
    <div class="mb-3">
      <p class="text-muted mb-1">Created by: <strong><%= @board.email %></strong></p>
      <p class="text-muted mb-1">Created at: <%= @board.created_at.strftime("%B %d, %Y at %I:%M %p") %></p>
      <p class="text-muted">Dimensions: <strong><%= @board.width %>×<%= @board.height %></strong>, Mines: <strong><%= @board.mines_count %></strong></p>
    </div>
  </div>
</div>

<div class="mt-4">
  <h4>Minesweeper Board</h4>
  <p class="text-muted">○ = Empty cell, ● = Mine</p>
  
  <div class="board-container" style="overflow-x: auto;">
    <div class="board-grid" style="
      display: grid;
      grid-template-columns: repeat(<%= @board.width %>, 30px);
      grid-template-rows: repeat(<%= @board.height %>, 30px);
      gap: 1px;
      background-color: #ccc;
      padding: 1px;
      width: fit-content;
      margin: 20px 0;
    ">
      <% JSON.parse(@board.board_data).each do |row| %>
        <% row.each do |cell| %>
          <div class="cell <%= cell['mine'] ? 'mine' : 'empty' %>">
            <%= cell['mine'] ? '●' : '○' %>
          </div>
        <% end %>
      <% end %>
    </div>
  </div>
  
  <div class="mt-3">
    <small class="text-muted">
      Total cells: <%= @board.width * @board.height %> | 
      Mine density: <%= ((@board.mines_count.to_f / (@board.width * @board.height)) * 100).round(1) %>%
    </small>
  </div>
</div>

<div class="mt-4">
  <%= link_to "Back to Home", root_path, class: "btn btn-secondary" %>
  <%= link_to "View All Boards", all_boards_path, class: "btn btn-outline-secondary" %>
  <%= link_to "Generate New Board", root_path, class: "btn btn-primary" %>
</div>