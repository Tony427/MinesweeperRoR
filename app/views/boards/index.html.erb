<div class="row">
  <div class="col-md-8">
    <h1>Minesweeper Board Generator</h1>
    <p class="text-muted">Generate custom minesweeper boards with your specifications</p>
    
    <%= form_with model: @board, local: true, class: "row g-3" do |form| %>
      <% if @board.errors.any? %>
        <div class="col-12">
          <div class="alert alert-danger">
            <strong>Please fix the following errors:</strong>
            <ul class="mb-0 mt-2">
              <% @board.errors.full_messages.each do |message| %>
                <li><%= message %></li>
              <% end %>
            </ul>
          </div>
        </div>
      <% end %>
      
      <div class="col-md-6">
        <%= form.label :email, class: "form-label" %>
        <%= form.email_field :email, class: "form-control", required: true, placeholder: "your.email@example.com" %>
      </div>
      
      <div class="col-md-6">
        <%= form.label :name, "Board Name", class: "form-label" %>
        <%= form.text_field :name, class: "form-control", required: true, placeholder: "My Minesweeper Board" %>
      </div>
      
      <div class="col-md-4">
        <%= form.label :width, "Board Width", class: "form-label" %>
        <%= form.number_field :width, class: "form-control", min: 1, max: 50, required: true, placeholder: "10" %>
      </div>
      
      <div class="col-md-4">
        <%= form.label :height, "Board Height", class: "form-label" %>
        <%= form.number_field :height, class: "form-control", min: 1, max: 50, required: true, placeholder: "10" %>
      </div>
      
      <div class="col-md-4">
        <%= form.label :mines_count, "Number of Mines", class: "form-label" %>
        <%= form.number_field :mines_count, class: "form-control", min: 1, required: true, placeholder: "10" %>
      </div>
      
      <div class="col-12">
        <%= form.submit "Generate Board", class: "btn btn-primary btn-lg" %>
      </div>
    <% end %>
  </div>
</div>

<hr class="my-5">

<section class="recent-boards">
  <h3>Recently Generated Boards</h3>
  
  <% if @recent_boards.any? %>
    <div class="list-group">
      <% @recent_boards.each do |board| %>
        <%= link_to board, class: "list-group-item list-group-item-action" do %>
          <div class="d-flex w-100 justify-content-between">
            <h5 class="mb-1"><%= board.name %></h5>
            <small><%= board.created_at.strftime("%B %d, %Y at %I:%M %p") %></small>
          </div>
          <p class="mb-1">Created by: <%= board.email %></p>
          <small>Dimensions: <%= board.width %>Ã—<%= board.height %>, Mines: <%= board.mines_count %></small>
        <% end %>
      <% end %>
    </div>
    
    <div class="mt-3">
      <%= link_to "view all generated boards", all_boards_path, class: "btn btn-outline-secondary" %>
    </div>
  <% else %>
    <div class="alert alert-info">
      <strong>No boards generated yet.</strong> Create the first one using the form above!
    </div>
  <% end %>
</section>